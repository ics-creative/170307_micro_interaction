<!doctype html>
<html lang="ja" dir="ltr">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, user-scalable=no"
    />
    <title>Micro Interaction - ICS MEDIA</title>
    <style>
      * {
        margin: 0;
        padding: 0;
      }

      html,
      body {
        height: 100%;
      }

      .container {
        width: 100%;
        height: 100%;
        display: grid;
        place-items: center;
      }

      /* 「メニュー」と「閉じる」アイコンの変形アニメーション */
      #content01 {
        background-image: linear-gradient(135deg, #8ecbe6, #e743c3);
      }

      /* 3本の線 */
      .hm-line-top,
      .hm-line-middle,
      .hm-line-bottom {
        --height: 2px;
        display: block;
        width: 100%;
        height: var(--height);
        transition: 0.3s;
        transform-origin: center;
        background-color: #fff;
        /* 縦真ん中に配置 */
        position: absolute;
        top: calc(50% - var(--height) / 2);
        left: 0;
      }
      /* 上の線の初期位置 */
      .hm-line-top {
        translate: 0 14px;
      }
      /* 下の線の初期位置 */
      .hm-line-bottom {
        translate: 0 -14px;
      }

      /* ハンバーガーメニューのボタン。hm = Hamburger Menu */
      .hm-button {
        position: relative;
        display: inline-flex;
        width: 48px;
        height: 48px;
        appearance: none;
        background: none;
        border: none;
        cursor: pointer;

        /* 選択状態 */
        &.active {
          /* 真ん中の線のアニメーション */
          .hm-line-middle {
            width: 0;
            opacity: 0;
            transform: translateX(20px) rotate(90deg);
          }

          /* 上の線のアニメーション */
          .hm-line-top {
            translate: 0 0;
            rotate: 135deg;
          }

          /* 下の線のアニメーション */
          .hm-line-bottom {
            translate: 0 0;
            rotate: -135deg;
          }
        }
      }
    </style>
  </head>
  <body>
    <section id="content01" class="container">
      <button class="hm-button" aria-label="ひらく">
        <span class="hm-line-top"></span>
        <span class="hm-line-middle"></span>
        <span class="hm-line-bottom"></span>
      </button>
    </section>

    <script>
      // ボタンの開閉処理
      const button = document.querySelector(".hm-button");

      button.addEventListener("click", () => {
        const current = button.classList.contains("active");
        const next = !current;
        button.classList.toggle("active", next);
        button.setAttribute("aria-label", next ? "とじる" : "ひらく");
      });
    </script>
  </body>
</html>
