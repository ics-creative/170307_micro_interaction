<!doctype html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Hamburger Menu Interaction - ICS MEDIA</title>
    <!-- 共通スタイルシートの読み込み -->
    <link rel="stylesheet" href="styles/common.css" />

    <style>
      .container-bg {
        background-image: linear-gradient(135deg, #8ecbe6, #e743c3);
      }

      /* ==========================================
      「メニュー」と「閉じる」アイコンの変形アニメーション
      */

      /* 3本の線 */
      .hm-line-top,
      .hm-line-middle,
      .hm-line-bottom {
        --height: 3px;
        display: block;
        width: 100%;
        height: var(--height);
        transition: 0.3s;
        transform-origin: center;
        /*background-color: #fff;*/
        background-color: linear-gradient(currentcolor 0 0), CanvasText; /* 強制カラーモード対策 */
        /* 縦真ん中に配置 */
        position: absolute;
        top: calc(50% - var(--height) / 2);
        left: 0;
      }
      /* 上の線の初期位置 */
      .hm-line-top {
        translate: 0 14px;
      }
      /* 下の線の初期位置 */
      .hm-line-bottom {
        translate: 0 -14px;
      }

      /* ハンバーガーメニューのボタン。hm = Hamburger Menu */
      .hm-button {
        position: relative;
        display: inline-flex;
        width: 48px;
        height: 48px;
        appearance: none;
        background: none;
        border: none;
        cursor: pointer;

        /* 選択状態 */
        &.active {
          /* 真ん中の線のアニメーション */
          .hm-line-middle {
            opacity: 0;
            rotate: 90deg;
          }

          /* 上の線のアニメーション */
          .hm-line-top {
            translate: 0 0;
            rotate: -135deg;
          }

          /* 下の線のアニメーション */
          .hm-line-bottom {
            translate: 0 0;
            rotate: 135deg;
          }
        }
      }
    </style>
  </head>
  <body>
    <div class="container container-bg">
      <button class="hm-button" aria-label="ひらく">
        <span class="hm-line-top"></span>
        <span class="hm-line-middle"></span>
        <span class="hm-line-bottom"></span>
      </button>
    </div>

    <script>
      // ボタンの開閉処理
      const button = document.querySelector(".hm-button");

      button.addEventListener("click", () => {
        const current = button.classList.contains("active");
        const next = !current; // 次の状態は反転
        button.classList.toggle("active", next);
        button.setAttribute("aria-label", next ? "とじる" : "ひらく");
      });
    </script>
  </body>
</html>
